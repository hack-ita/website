/* ===========================
   IMPORTS & PLUGINS
=========================== */
@import "tailwindcss";
@plugin "@tailwindcss/typography";
@source "hugo_stats.json";
@source inline("h-20, rotate-45, -rotate-45", "top-23", "top-30", "overflow-hidden");

@custom-variant dark (&:where(.dark, .dark *));

/* ===========================
   THEME VARIABLES
=========================== */
@theme {
  --font-heading: "Oswald", sans-serif;
  --font-body: "Ubuntu", sans-serif;

  --color-primary: #FD0001;
  --color-secondary: #C9A941;
  --color-light: var(--color-white);
  --color-dark: var(--color-black);
  --color-light-bg: #EDF2F4;
  --color-accent: #111111;

  --breakpoint-max: 118.75rem;

  --animate-underline-slide: underline-slide 2s linear infinite;

  @keyframes underline-slide {
    0% {
      transform: translateX(-100%);
    }

    20% {
      transform: translateX(0%);
    }

    40% {
      transform: translateX(100%);
    }

    60% {
      transform: translateX(200%);
    }

    80% {
      transform: translateX(100%);
    }

    100% {
      transform: translateX(-100%);
    }
  }
}

/* .body::-webkit-scrollbar-track {
  background: var(--color-primary);
} */

 /* ===========================
   GLOBAL
=========================== */
* {
  scrollbar-color: var(--color-primary) var(--color-light-bg);
  @variant dark {
  scrollbar-color: var(--color-primary) var(--color-accent);
  }
  scrollbar-width: thin;
}


/* ===========================
   TYPOGRAPHY
=========================== */
h1, h2, h3, h4, h5, h6, .heading, .heading-sm, .hero-heading {
  @apply font-heading;
}

* {
  @apply font-body;
}

/* Large headings */
h1, h2 {
  @apply text-[max(50px,min(80px,5vw))] tracking-[0.25px] font-bold leading-none text-pretty;
}

.hero-heading {
  @apply text-[max(30px,min(30px,5vw))] tracking-[0.25px] font-bold leading-none text-pretty;
}

.heading-sm {
  @apply text-[max(20px,min(20px,1vw))] leading-none uppercase font-bold text-pretty;
}

.card-spotlight span {
  @apply text-2xl lg:text-4xl xl:text-5xl;
}

/* ===========================
   Search UI
=========================== */
.captcha-container {
  background: #f9f9f9;
  border: 2px solid #d3d3d3;
  border-radius: 4px;
  padding: 12px;
  display: inline-flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  user-select: none;
}

.captcha-container:hover {
  background: #e8e8e8;
}

.checkbox-wrapper {
  position: relative;
  width: 28px;
  height: 28px;
  border: 2px solid #c1c1c1;
  border-radius: 3px;
  background: white;
  transition: all 0.3s ease;
}

.checkbox-wrapper.checking {
  border-color: #4285f4;
}

.checkbox-wrapper.verified {
  background: var(--color-primary);
  border-color: var(--color-primary);
}

.checkmark {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  width: 18px;
  height: 18px;
  opacity: 0;
  transition: all 0.3s ease;
}

.checkmark.show {
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
}

.spinner {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  margin-top: -10px;
  margin-left: -10px;
  border: 3px solid #f3f3f3;
  border-top: 3px solid #4285f4;
  border-radius: 50%;
  opacity: 0;
  transition: opacity 0.2s;
}

.spinner.show {
  opacity: 1;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.captcha-text {
  color: #000;
  font-size: 14px;
}

.captcha-logo {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 8px;
  color: #555;
  margin-left: auto;
}

.captcha-logo-icon {
  width: 28px;
  height: 28px;
  margin-bottom: 2px;
}

.button-enter {
  animation: buttonSlideIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

@keyframes buttonSlideIn {
  0% {
    transform: translateY(20px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.captcha-fade-out {
  animation: fadeOut 0.4s ease forwards;
}

@keyframes fadeOut {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-20px);
  }
}


/* ===========================
   Search UI
=========================== */

/* Search container */
#search-wrapper {
  @apply relative w-full mb-10;
}
#search-input {
  @apply w-full p-3 bg-light-bg dark:bg-accent text-dark dark:text-light shadow-xl border border-dark/20 dark:border-light/20;
}

/* Suggestion list */
.suggestions {
  @apply list-none m-0 p-0 bg-light-bg dark:bg-accent overflow-hidden shadow-xl divide-y divide-dark/20 dark:divide-light/20;
}
.suggestions li {
  @apply p-3 cursor-pointer transition-colors text-dark dark:text-light;
}

.suggestions li strong {
  @apply uppercase;
}

.suggestions li:hover {
  @apply bg-primary;
}

.suggestions mark {
  @apply bg-primary;
}

/* Preview card */
.link-preview {
  @apply absolute bg-light dark:bg-dark text-dark dark:text-light border border-dark/20 dark:border-light/20 p-3 hidden w-70 rounded-md z-100;
}
.link-preview h4 {
  @apply mb-2 font-semibold text-dark dark:text-light uppercase;
}
.link-preview small {
  @apply text-dark dark:text-light;
}

/* ===========================
   PROSE / MARKDOWN STYLING
=========================== */
.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  @apply text-primary;
}

.prose h2 {
  @apply mt-15 mb-10;
}

.prose blockquote {
  @apply border-primary;
}

.prose li::marker {
  @apply text-primary;
}

.prose * {
  @apply scroll-mt-30;
}

.prose a > img {
  @apply cursor-zoom-in;
}

.prose img {
  @apply rounded-md;
}

/* ===========================
   CODE & HIGHLIGHTING
=========================== */
pre:has(> code) {
  @apply bg-light-bg text-dark m-0 rounded-t-none rounded-b-md;
}

.highlight pre {
  background-color: var(--color-accent) !important;
  color: var(--color-light) !important;
  @variant dark {
    background-color: var(--color-light-bg) !important;
    color: var(--color-dark) !important;
  }
}

.prose pre {
  @apply relative overflow-x-auto;
}

.copy-btn {
  @apply fixed rounded-md
         bg-accent text-light text-xs
         px-2 py-1 opacity-70
         hover:opacity-100 transition z-10;
}

/* ===========================
   TABLE OF CONTENTS
=========================== */
#TableOfContents a:hover {
  @apply text-primary;
}

#TableOfContents ul {
  @apply flex flex-col gap-y-2;
}

#TableOfContents > ul ul {
  @apply ml-5 mt-2;
}

/* ===========================
   GLASS / HEADER EFFECTS
=========================== */
.header-glass {
  @apply bg-light/5 dark:bg-dark/60 bg-clip-padding backdrop-filter backdrop-blur-sm;
}

.menu-glass {
  @apply bg-light/60 dark:bg-dark/60 bg-clip-padding backdrop-filter backdrop-blur-2xl lg:bg-transparent dark:lg:bg-transparent lg:bg-clip-border lg:backdrop-blur-none;
}

.bg-glass {
  @apply bg-dark/5 dark:bg-light/5 bg-clip-padding backdrop-filter backdrop-blur-sm;
}

/* ===========================
   HERO SWIPER
=========================== */
.hero-swiper-pagination .swiper-pagination-bullet {
  @apply bg-dark dark:bg-light w-10 rounded-none h-0.75;
}

.hero-swiper-pagination .swiper-pagination-bullet-active {
  @apply bg-primary;
}

.heroTextSwiper .swiper-wrapper .swiper-slide.swiper-slide-active .title {
  @apply text-primary;
}

.heroTextSwiper .swiper-wrapper .swiper-slide .dets {
  @apply max-h-0 overflow-hidden transition;
  transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  transition-delay: 150ms;
}

.heroTextSwiper .swiper-wrapper .swiper-slide.swiper-slide-active .dets {
  @apply max-h-35 lg:max-h-60 2xl:max-h-35;
}

.swiper .swiper-wrapper .swiper-slide {
  height: auto !important;
}

/* ===========================
   TYPEWRITER CURSOR
=========================== */
#typewriter::after {
  @apply whitespace-pre content-["|"] animate-[tw-cursor_1s_infinite];
}

@keyframes tw-cursor {
  50% { opacity: 0; }
}

/* ===========================
   CARD SPOTLIGHT (HOVER EFFECT)
=========================== */
.card-spotlight {
  @apply relative overflow-hidden 
         before:content-[""] before:absolute before:transition-opacity 
         before:duration-200 before:ease-[ease] before:pointer-events-none 
         before:inset-0;
}

.card-spotlight::before {
  background: radial-gradient(
    350px circle at var(--x, 50%) var(--y, 50%),
    rgba(201, 169, 65, 0.25),
    transparent 40%
  );
  opacity: var(--o, 0);
}

/* ===========================
   BACKGROUND MASKS
=========================== */
.bg-mask, .red-mask, .light-mask {
  background-size: 32px 32px;
  background-repeat: repeat;
}

.bg-mask {
  --dot-color: color-mix(in oklab, var(--color-dark) 30%, transparent);
  @variant dark {
  --dot-color: color-mix(in oklab, var(--color-light) 15%, transparent);
  }
  background-size: 32px 32px;
  background-repeat: repeat;
  background-image:
    radial-gradient(circle at 8px 8px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px),
    radial-gradient(circle at 24px 8px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px),
    radial-gradient(circle at 8px 24px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px),
    radial-gradient(circle at 24px 24px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px);
}

.red-mask {
  --dot-color: color-mix(in oklab, var(--color-dark) 40%, transparent);
  background-size: 32px 32px;
  background-repeat: repeat;
  background-image:
    radial-gradient(circle at 8px 8px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px),
    radial-gradient(circle at 24px 8px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px),
    radial-gradient(circle at 8px 24px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px),
    radial-gradient(circle at 24px 24px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px);
}

.light-mask {
  --dot-color: color-mix(in oklab, var(--color-light) 15%, transparent);
  @variant dark {
  --dot-color: color-mix(in oklab, var(--color-dark) 30%, transparent);
  }
    background-image:
    radial-gradient(circle at 8px 8px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px),
    radial-gradient(circle at 24px 8px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px),
    radial-gradient(circle at 8px 24px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px),
    radial-gradient(circle at 24px 24px, var(--dot-color) 0, var(--dot-color) 0.5px, transparent 1px);
}

/* ===========================
   FORM STYLING (HN FORM)
=========================== */
.hn-form {
  @apply relative z-1 flex flex-col gap-4 items-stretch w-full;
}

.hn-input-orbit {
  @apply relative overflow-hidden p-0.5 rounded-[999px] 
         before:content-[""] before:absolute before:animate-[hn-orbit-spin_9s_linear_infinite] 
         before:opacity-[0.92] before:-inset-2/4
         focus-within:shadow-[0_0_0_2px_rgba(240,214,124,0.4),0_0_22px_rgba(240,214,124,0.7)]
         focus-within:before:animate-[hn-orbit-spin-fast_4s_linear_infinite] 
         bg-light dark:bg-dark;
}

.hn-input-orbit::before {
  background: conic-gradient(from 0deg, #f9e89a, #e1c46a, #b98216, #f9e89a);
}

#search-wrapper .hn-input-orbit {
  @apply relative overflow-hidden p-0.5 rounded-[999px] 
         before:content-[""] before:absolute before:animate-[hn-orbit-spin_9s_linear_infinite] 
         before:opacity-[0.92] before:-inset-2/4
         focus-within:shadow-[0_0_0_2px_rgba(253,0,1,0.4),0_0_22px_rgba(253,0,1,0.7)]
         focus-within:before:animate-[hn-orbit-spin-fast_4s_linear_infinite] 
         bg-light dark:bg-dark;
}

#search-wrapper .hn-input-orbit::before {
  background: conic-gradient(from 0deg, var(--color-red-700), var(--color-red-800), var(--color-primary));
}
.hn-input-orbit-border {
  @apply relative z-1 m-0.5 rounded-[inherit];
  background: radial-gradient(circle at top left, #161621 0, #050509 65%);
}

.hn-input {
  @apply w-full text-[0.95rem] text-light relative z-2 px-4 py-[0.9rem] rounded-[inherit] border-none;
  outline: none;
}

.hn-input::placeholder {
  @apply text-light/20;
}

.hn-input-search::placeholder {
  @apply text-primary/50;

}

/* ===========================
   HN BUTTONS
=========================== */
.hn-btn {
  @apply cursor-pointer text-[0.9rem] font-bold tracking-[0.2em] uppercase text-[#3d2700] 
         shadow-[0_14px_30px_rgba(199,155,42,0.85),0_0_0_1px_rgba(12,8,0,0.95)] 
         relative overflow-hidden mt-[0.3rem] px-6 py-[0.9rem] rounded-[999px] border-[none]
         before:content-[""] before:absolute before:left-[-60%] before:w-2/5 before:h-full 
         before:skew-x-[-22deg] before:opacity-0 before:top-0
         hover:-translate-y-px hover:shadow-[0_18px_36px_rgba(199,155,42,1),0_0_0_1px_rgba(17,10,0,1)]
         hover:brightness-[1.03] hover:before:opacity-100 hover:before:animate-[hn-shine_0.9s_ease-out]
         active:translate-y-px active:shadow-[0_10px_16px_rgba(199,155,42,0.7),0_0_0_1px_rgba(17,10,0,0.9)]
         active:brightness-[0.97];
  background: linear-gradient(135deg, #fff4c8, #f0c867, #c79b2a);
  transition: transform 0.12s ease-out, box-shadow 0.16s ease-out, filter 0.16s ease-out;
}

.hn-btn::before {
  background: linear-gradient(120deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.45) 40%, rgba(255, 255, 255, 0) 100%);
}

/* ===========================
   INPUT FIELDS
=========================== */
.input-field {
  @apply transition-all duration-300 ease-[ease] border-2 border-solid border-dark/50 dark:border-light/50
         focus:animate-[pulse-glow_2s_infinite] focus:border-dark dark:focus:border-light;
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
}

.input-field:focus {
  outline: none;
}

.input-field:focus + .label {
  @apply text-dark dark:text-light -translate-y-6 animate-[flicker_3s_infinite] scale-[0.85];
}

.input-field:not(:placeholder-shown) + .label {
  @apply -translate-y-6 text-dark dark:text-light scale-[0.85];
}

.label {
  @apply absolute -translate-y-2/4 transition-all duration-300 ease-[ease] pointer-events-none tracking-[2px] left-4 top-2/4;
}

/* ===========================
   ANIMATIONS
=========================== */
@keyframes hn-orbit-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes hn-orbit-spin-fast { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes hn-shine {
  0% { transform: translateX(0) skewX(-22deg); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translateX(260%) skewX(-22deg); opacity: 0; }
}

@keyframes pulse-glow {
  0%,100% { box-shadow: 0 0 5px rgba(0, 255, 255, 0.5), 0 0 10px rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0, 255, 255, 0.1); }
  50% { box-shadow: 0 0 20px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 255, 255, 0.5), inset 0 0 20px rgba(0, 255, 255, 0.2); }
}

@keyframes flicker { 0%,100% { opacity: 1; } 50% { opacity: 0.8; } }