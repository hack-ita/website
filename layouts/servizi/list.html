{{ define "main" }}
{{/* hero */}}
{{ partial "shared/hero.html" (dict "title" .Title "page" .) }}
{{/* /hero */}}

{{/* content */}}
{{ with .Params.content }}
{{ if .enable }}
<section class="pt-3 pb-10 px-5 bg-mask relative overflow-hidden" aria-label="Testimonials">
  <!-- Decorative quotes -->
  <div class="w-30 sm:w-60 lg:w-100 xl:size-fit absolute -top-5 -left-5 sm:-top-11 sm:-left-10 lg:-top-20 lg:-left-20 xl:-top-27 xl:-left-27">
    <img src='{{ "images/dev/quote-icon.webp" | relURL }}' class="size-full" alt="">
  </div>
  <div class="w-30 sm:w-60 lg:w-100 xl:size-fit absolute -bottom-6 -right-5 sm:-bottom-12 sm:-right-10 lg:-bottom-21 lg:-right-20 xl:-bottom-29 xl:-right-27">
    <img src='{{ "images/dev/quote-icon.webp" | relURL }}' class="size-full rotate-180" alt="">
  </div>

  <div class="max-w-7xl mx-auto space-y-10 pt-15">
    {{ partial "components/heading.html" (dict "text" .title) }}

    <blockquote class="text-dark dark:text-light text-center text-xl" >
      {{ .content | safeHTML }}
    </blockquote>
  </div>
</section>
{{ end }}
{{ end }}
{{/* /content */}}

{{/* stats */}}
{{ with .Params.stats }}
{{ if .enable }}
<section class="bg-primary red-mask relative overflow-hidden" aria-label="Learning Overview">
  
  <!-- Decorative masked elements -->
  <div class="bg-light dark:bg-dark bg-mask h-23 w-17 sm:h-40 sm:w-28.5 lg:h-65 lg:w-40.5 xl:h-76 xl:w-48 absolute -top-5 -right-5">
    <div class="mt-9 -ml-9 sm:mt-13 sm:-ml-13 lg:mt-17 lg:-ml-16 xl:mt-16 xl:-ml-15 size-full bg-primary red-mask"></div>
  </div>
  <div class="bg-light dark:bg-dark bg-mask h-23 w-17 sm:h-40 sm:w-28.5 lg:h-65 lg:w-40.5 xl:h-76 xl:w-48 absolute -bottom-5 -left-5 rotate-180">
    <div class="mt-9 -ml-9 sm:mt-13 sm:-ml-13 lg:mt-17 lg:-ml-16 xl:mt-16 xl:-ml-15 size-full bg-primary red-mask"></div>
  </div>

  <div class="max-w-7xl py-10 px-5 mx-auto grid gap-y-10 relative">
    
    <header class="flex flex-col justify-center gap-y-10">
      <h2 class="text-light text-center">{{ .title | safeHTML }}</h2>
      <p class="text-light text-balance text-center">
        Dalle basi al livello OSCP: <br />
        <span id="typewriter" class="text-dark font-semibold" aria-hidden="true"></span>
        per diventare un vero pentester.
      </p>

      <!-- Hidden Typewriter Words (Decorative) -->
      <div id="typewriter-data" class="hidden" aria-hidden="true">
        <span>guide tecniche</span>
        <span>comandi</span>
        <span>errori comuni</span>
        <span>appunti di laboratorio reali</span>
      </div>
    </header>

    <section id="stats-grid" class="relative grid grid-cols-2 lg:grid-cols-4 gap-5" aria-label="Stats Overview">
      <div  class="card-spotlight flex flex-col lg:gap-y-5 text-center bg-dark p-5">
        <span class="text-primary font-black">12+</span>
        <h5 class="text-bold lg:text-xl text-light">Technical Articles</h5>
      </div>

      <div  class="card-spotlight flex flex-col lg:gap-y-5 text-center bg-light p-5">
        <span class="text-primary font-black">8</span>
        <h5 class="text-bold lg:text-xl text-dark">Main Categories</h5>
      </div>

      <div  class="card-spotlight flex flex-col lg:gap-y-5 text-center bg-dark p-5">
        <span class="text-primary font-black">OSCP</span>
        <h5 class="text-bold lg:text-xl text-light">Focused</h5>
      </div>

      <div  class="card-spotlight flex flex-col lg:gap-y-5 text-center bg-light p-5">
        <span class="text-primary font-black">100%</span>
        <h5 class="text-bold lg:text-xl text-dark">Red Team Vibes</h5>
      </div>
    </section>
    
  </div>

</section>
{{ end }}
{{ end }}
{{/* /stats */}}

{{/* cards */}}
{{ with .RegularPages }}
<section class="bg-mask py-10 px-5" aria-label="Training Tracks">

  <div class="max-w-7xl mx-auto flex flex-col gap-y-10">
    {{ $items := . }}
    {{ range $i, $p := $items }}
    {{ $odd := modBool $i 2 }}
    {{ $last := eq (add $i 1) (len $items) }}

    <article  id="{{ .Title | anchorize }}"
      class="flex flex-col-reverse items-center scroll-mt-30 {{ if $odd }}lg:flex-row{{ else }}lg:flex-row-reverse{{ end }} lg:justify-between gap-5 {{ if eq $i 0}}lg:mb-10{{ else if $last }}lg:mt-10{{ else }}lg:my-10{{ end }}">

      <header class="lg:w-5/12 space-y-5">
        <h4 class="heading-sm text-dark dark:text-light text-pretty">{{ .Title }}</h4>
        <div class="text-dark dark:text-light text-pretty">
          {{ .Content }}
        </div>
      </header>

      <figure class="lg:w-6/12">
        {{ partial "components/image.html" (dict "src" .Params.image "alt" .Title "class" "w-full h-80 object-contain object-end lg:object-cover lg:object-top rounded-md") }}
      </figure>

    </article>
    {{ end }}
  </div>

</section>
{{ end }}
{{/* /cards */}}

{{/* news */}}
{{ partial "shared/news.html" . }}
{{/* /news */}}

{{/* form */}}
<section class="bg-mask py-10">
  {{ partial "shared/form.html" . }}
</section>
{{/* /form */}}

{{ end }}